.. code:: ipython2

    from epyt import epanet

.. code:: ipython2

    # Load EPANET Input File
    G = epanet('Net1.inp')


.. parsed-literal::

    EPANET version 20200 loaded (EPyT version 1.0.5).
    Input File Net1.inp loaded successfully.
    
    

.. code:: ipython2

    # Lists all available functions and properties
    dir(G)




.. parsed-literal::

    ['BinTempfile',
     'CMDCODE',
     'ControlLevelValues',
     'ControlLinkIndex',
     'ControlNodeIndex',
     'ControlRulesCount',
     'ControlSettings',
     'ControlTypes',
     'ControlTypesIndex',
     'Controls',
     'CurveCount',
     'CurveIndex',
     'CurvesInfo',
     'DEMANDMODEL',
     'InputFile',
     'Iterations',
     'LOGOP',
     'LibEPANET',
     'LibEPANETpath',
     'LinkBulkReactionCoeff',
     'LinkCount',
     'LinkDiameter',
     'LinkFlowUnits',
     'LinkIndex',
     'LinkInitialSetting',
     'LinkInitialStatus',
     'LinkLength',
     'LinkMinorLossCoeff',
     'LinkNameID',
     'LinkPipeCount',
     'LinkPipeIndex',
     'LinkPipeNameID',
     'LinkPumpCount',
     'LinkPumpHeadCurveIndex',
     'LinkPumpIndex',
     'LinkPumpNameID',
     'LinkPumpPatternIndex',
     'LinkPumpPatternNameID',
     'LinkPumpPower',
     'LinkPumpType',
     'LinkPumpTypeCode',
     'LinkRoughnessCoeff',
     'LinkType',
     'LinkTypeIndex',
     'LinkValveCount',
     'LinkValveIndex',
     'LinkValveNameID',
     'LinkWallReactionCoeff',
     'NodeBaseDemands',
     'NodeCoordinates',
     'NodeCount',
     'NodeDemandCategoriesNumber',
     'NodeDemandPatternIndex',
     'NodeDemandPatternNameID',
     'NodeElevations',
     'NodeEmitterCoeff',
     'NodeIndex',
     'NodeInitialQuality',
     'NodeJunctionCount',
     'NodeJunctionIndex',
     'NodeJunctionNameID',
     'NodeNameID',
     'NodePatternIndex',
     'NodeReservoirCount',
     'NodeReservoirIndex',
     'NodeReservoirNameID',
     'NodeSourcePatternIndex',
     'NodeSourceQuality',
     'NodeSourceTypeIndex',
     'NodeTankBulkReactionCoeff',
     'NodeTankCount',
     'NodeTankDiameter',
     'NodeTankIndex',
     'NodeTankInitialLevel',
     'NodeTankInitialWaterVolume',
     'NodeTankMaximumWaterLevel',
     'NodeTankMaximumWaterVolume',
     'NodeTankMinimumFraction',
     'NodeTankMinimumWaterLevel',
     'NodeTankMinimumWaterVolume',
     'NodeTankMixZoneVolume',
     'NodeTankMixingModelCode',
     'NodeTankMixingModelType',
     'NodeTankNameID',
     'NodeTankReservoirCount',
     'NodeTankVolumeCurveIndex',
     'NodeType',
     'NodeTypeIndex',
     'NodesConnectingLinksID',
     'NodesConnectingLinksIndex',
     'OptionsAccuracyValue',
     'OptionsEmitterExponent',
     'OptionsFlowChange',
     'OptionsHeadError',
     'OptionsHeadLossFormula',
     'OptionsHydraulics',
     'OptionsMaxTrials',
     'OptionsPattern',
     'OptionsPatternDemandMultiplier',
     'OptionsQualityTolerance',
     'OptionsSpecificGravity',
     'OptionsUnbalanced',
     'OptionsViscosity',
     'Pattern',
     'PatternAverageValue',
     'PatternCount',
     'PatternIndex',
     'PatternLengths',
     'PatternNameID',
     'QualityChemName',
     'QualityChemUnits',
     'QualityCode',
     'QualityTraceNodeIndex',
     'QualityType',
     'RULEOBJECT',
     'RULEOPERATOR',
     'RULESTATUS',
     'RULEVARIABLE',
     'RelativeError',
     'RptTempfile',
     'TYPEBINSTATUS',
     'TYPECONTROL',
     'TYPECURVE',
     'TYPEHEADLOSS',
     'TYPELINK',
     'TYPEMIXMODEL',
     'TYPENODE',
     'TYPEPUMP',
     'TYPEPUMPSTATE',
     'TYPEQUALITY',
     'TYPEREPORT',
     'TYPESOURCE',
     'TYPESTATS',
     'TYPESTATUS',
     'TYPEUNITS',
     'TempInpFile',
     'TimeHTime',
     'TimeHaltFlag',
     'TimeHydraulicStep',
     'TimeNextEvent',
     'TimePatternStart',
     'TimePatternStep',
     'TimeQualityStep',
     'TimeReportingPeriods',
     'TimeReportingStart',
     'TimeReportingStep',
     'TimeRuleControlStep',
     'TimeSimulationDuration',
     'TimeStartTime',
     'TimeStatisticsIndex',
     'TimeStatisticsType',
     'ToolkitConstants',
     'Version',
     '__class__',
     '__delattr__',
     '__dict__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__le__',
     '__lt__',
     '__module__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     '__weakref__',
     '_epanet__addComment',
     '_epanet__addControlFunction',
     '_epanet__changeNodeType',
     '_epanet__checkLinkIfString',
     '_epanet__controlSettings',
     '_epanet__createTempfiles',
     '_epanet__exist_inp_file',
     '_epanet__getControlIndices',
     '_epanet__getCurveIndices',
     '_epanet__getInitParams',
     '_epanet__getLinkIndices',
     '_epanet__getLinkInfo',
     '_epanet__getNodeIndices',
     '_epanet__getNodeInfo',
     '_epanet__getNodeJunctionIndices',
     '_epanet__getNodeTankMixiningModel',
     '_epanet__getPumpLinkInfo',
     '_epanet__getTankNodeInfo',
     '_epanet__isMember',
     '_epanet__readEpanetBin',
     '_epanet__returnValue',
     '_epanet__setControlFunction',
     '_epanet__setEval',
     '_epanet__setEvalLinkNode',
     '_epanet__setFlowUnits',
     '_epanet__setNodeDemandPattern',
     'addControls',
     'addCurve',
     'addLinkPipe',
     'addLinkPipeCV',
     'addLinkPump',
     'addLinkValveFCV',
     'addLinkValveGPV',
     'addLinkValvePBV',
     'addLinkValvePRV',
     'addLinkValvePSV',
     'addLinkValveTCV',
     'addNodeJunction',
     'addNodeJunctionDemand',
     'addNodeReservoir',
     'addNodeTank',
     'addPattern',
     'addRules',
     'api',
     'appRotateNetwork',
     'appShiftNetwork',
     'arange',
     'classversion',
     'clearReport',
     'closeHydraulicAnalysis',
     'closeNetwork',
     'closeQualityAnalysis',
     'copyReport',
     'createProject',
     'deleteAllTemps',
     'deleteControls',
     'deleteCurve',
     'deleteLink',
     'deleteNode',
     'deleteNodeJunctionDemand',
     'deletePattern',
     'deletePatternsAll',
     'deleteProject',
     'deleteRules',
     'demModelInfo',
     'getAdjacencyMatrix',
     'getCMDCODE',
     'getComputedHydraulicTimeSeries',
     'getComputedQualityTimeSeries',
     'getComputedTimeSeries',
     'getComputedTimeSeries_ENepanet',
     'getConnectivityMatrix',
     'getControlRulesCount',
     'getControls',
     'getCounts',
     'getCurveComment',
     'getCurveCount',
     'getCurveIndex',
     'getCurveLengths',
     'getCurveNameID',
     'getCurveType',
     'getCurveTypeIndex',
     'getCurveValue',
     'getCurvesInfo',
     'getDemandModel',
     'getENfunctionsImpemented',
     'getError',
     'getFlowUnits',
     'getLibFunctions',
     'getLinkActualQuality',
     'getLinkBulkReactionCoeff',
     'getLinkComment',
     'getLinkCount',
     'getLinkDiameter',
     'getLinkEnergy',
     'getLinkFlows',
     'getLinkHeadloss',
     'getLinkIndex',
     'getLinkInitialSetting',
     'getLinkInitialStatus',
     'getLinkLength',
     'getLinkMinorLossCoeff',
     'getLinkNameID',
     'getLinkNodesIndex',
     'getLinkPipeCount',
     'getLinkPipeIndex',
     'getLinkPipeNameID',
     'getLinkPumpCount',
     'getLinkPumpECost',
     'getLinkPumpECurve',
     'getLinkPumpEPat',
     'getLinkPumpEfficiency',
     'getLinkPumpHCurve',
     'getLinkPumpHeadCurveIndex',
     'getLinkPumpIndex',
     'getLinkPumpNameID',
     'getLinkPumpPatternIndex',
     'getLinkPumpPatternNameID',
     'getLinkPumpPower',
     'getLinkPumpState',
     'getLinkPumpSwitches',
     'getLinkPumpType',
     'getLinkPumpTypeCode',
     'getLinkQuality',
     'getLinkResultIndex',
     'getLinkRoughnessCoeff',
     'getLinkSettings',
     'getLinkStatus',
     'getLinkType',
     'getLinkTypeIndex',
     'getLinkValveCount',
     'getLinkValveIndex',
     'getLinkValveNameID',
     'getLinkVelocity',
     'getLinkVertices',
     'getLinkVerticesCount',
     'getLinkWallReactionCoeff',
     'getLinksInfo',
     'getNetworksDatabase',
     'getNodeActualDemand',
     'getNodeActualDemandSensingNodes',
     'getNodeActualQuality',
     'getNodeActualQualitySensingNodes',
     'getNodeBaseDemands',
     'getNodeComment',
     'getNodeCoordinates',
     'getNodeCount',
     'getNodeDemandCategoriesNumber',
     'getNodeDemandDeficit',
     'getNodeDemandPatternIndex',
     'getNodeDemandPatternNameID',
     'getNodeElevations',
     'getNodeEmitterCoeff',
     'getNodeHydraulicHead',
     'getNodeIndex',
     'getNodeInitialQuality',
     'getNodeJunctionCount',
     'getNodeJunctionDemandIndex',
     'getNodeJunctionDemandName',
     'getNodeJunctionIndex',
     'getNodeJunctionNameID',
     'getNodeMassFlowRate',
     'getNodeNameID',
     'getNodePatternIndex',
     'getNodePressure',
     'getNodeReservoirCount',
     'getNodeReservoirIndex',
     'getNodeReservoirNameID',
     'getNodeResultIndex',
     'getNodeSourcePatternIndex',
     'getNodeSourceQuality',
     'getNodeSourceType',
     'getNodeSourceTypeIndex',
     'getNodeTankBulkReactionCoeff',
     'getNodeTankCanOverFlow',
     'getNodeTankCount',
     'getNodeTankData',
     'getNodeTankDiameter',
     'getNodeTankIndex',
     'getNodeTankInitialLevel',
     'getNodeTankInitialWaterVolume',
     'getNodeTankMaximumWaterLevel',
     'getNodeTankMaximumWaterVolume',
     'getNodeTankMinimumWaterLevel',
     'getNodeTankMinimumWaterVolume',
     'getNodeTankMixZoneVolume',
     'getNodeTankMixingFraction',
     'getNodeTankMixingModelCode',
     'getNodeTankMixingModelType',
     'getNodeTankNameID',
     'getNodeTankReservoirCount',
     'getNodeTankVolume',
     'getNodeTankVolumeCurveIndex',
     'getNodeType',
     'getNodeTypeIndex',
     'getNodesConnectingLinksID',
     'getNodesConnectingLinksIndex',
     'getNodesInfo',
     'getOptionsAccuracyValue',
     'getOptionsCheckFrequency',
     'getOptionsDampLimit',
     'getOptionsDemandCharge',
     'getOptionsEmitterExponent',
     'getOptionsExtraTrials',
     'getOptionsFlowChange',
     'getOptionsGlobalEffic',
     'getOptionsGlobalPattern',
     'getOptionsGlobalPrice',
     'getOptionsHeadError',
     'getOptionsHeadLossFormula',
     'getOptionsLimitingConcentration',
     'getOptionsMaxTrials',
     'getOptionsMaximumCheck',
     'getOptionsPatternDemandMultiplier',
     'getOptionsPipeBulkReactionOrder',
     'getOptionsPipeWallReactionOrder',
     'getOptionsQualityTolerance',
     'getOptionsSpecificDiffusivity',
     'getOptionsSpecificGravity',
     'getOptionsSpecificViscosity',
     'getOptionsTankBulkReactionOrder',
     'getPattern',
     'getPatternAverageValue',
     'getPatternComment',
     'getPatternCount',
     'getPatternIndex',
     'getPatternLengths',
     'getPatternNameID',
     'getPatternValue',
     'getQualityCode',
     'getQualityInfo',
     'getQualityTraceNodeIndex',
     'getQualityType',
     'getRuleCount',
     'getRuleID',
     'getRuleInfo',
     'getRules',
     'getStatistic',
     'getTimeHTime',
     'getTimeHaltFlag',
     'getTimeHydraulicStep',
     'getTimeNextEvent',
     'getTimeNextEventTank',
     'getTimePatternStart',
     'getTimePatternStep',
     'getTimeQTime',
     'getTimeQualityStep',
     'getTimeReportingPeriods',
     'getTimeReportingStart',
     'getTimeReportingStep',
     'getTimeRuleControlStep',
     'getTimeSimulationDuration',
     'getTimeStartTime',
     'getTimeStatisticsIndex',
     'getTimeStatisticsType',
     'getTitle',
     'getUnits',
     'getVersion',
     'initializeEPANET',
     'initializeHydraulicAnalysis',
     'initializeQualityAnalysis',
     'libFunctions',
     'linkInfo',
     'loadEPANETFile',
     'max',
     'min',
     'multiply_elements',
     'netName',
     'nextHydraulicAnalysisStep',
     'nextQualityAnalysisStep',
     'nodeInfo',
     'openAnyInp',
     'openCurrentInp',
     'openHydraulicAnalysis',
     'openQualityAnalysis',
     'plot',
     'plot_close',
     'plot_save',
     'plot_show',
     'plot_ts',
     'printv',
     'qual',
     'reloadNetwork',
     'runEPANETexe',
     'runHydraulicAnalysis',
     'runQualityAnalysis',
     'runsCompleteSimulation',
     'saveHydraulicFile',
     'saveHydraulicsOutputReportingFile',
     'saveInputFile',
     'setCMDCODE',
     'setControls',
     'setCurve',
     'setCurveComment',
     'setCurveNameID',
     'setCurveValue',
     'setDemandModel',
     'setFlowUnitsAFD',
     'setFlowUnitsCFS',
     'setFlowUnitsCMD',
     'setFlowUnitsCMH',
     'setFlowUnitsGPM',
     'setFlowUnitsIMGD',
     'setFlowUnitsLPM',
     'setFlowUnitsLPS',
     'setFlowUnitsMGD',
     'setFlowUnitsMLD',
     'setLinkBulkReactionCoeff',
     'setLinkComment',
     'setLinkDiameter',
     'setLinkInitialSetting',
     'setLinkInitialStatus',
     'setLinkLength',
     'setLinkMinorLossCoeff',
     'setLinkNameID',
     'setLinkNodesIndex',
     'setLinkPipeData',
     'setLinkPumpECost',
     'setLinkPumpECurve',
     'setLinkPumpEPat',
     'setLinkPumpHCurve',
     'setLinkPumpHeadCurveIndex',
     'setLinkPumpPatternIndex',
     'setLinkPumpPower',
     'setLinkRoughnessCoeff',
     'setLinkSettings',
     'setLinkStatus',
     'setLinkTypePipe',
     'setLinkTypePipeCV',
     'setLinkTypePump',
     'setLinkTypeValveFCV',
     'setLinkTypeValveGPV',
     'setLinkTypeValvePBV',
     'setLinkTypeValvePRV',
     'setLinkTypeValvePSV',
     'setLinkTypeValveTCV',
     'setLinkVertices',
     'setLinkWallReactionCoeff',
     'setNodeBaseDemands',
     'setNodeComment',
     'setNodeCoordinates',
     'setNodeDemandPatternIndex',
     'setNodeElevations',
     'setNodeEmitterCoeff',
     'setNodeInitialQuality',
     'setNodeJunctionData',
     'setNodeJunctionDemandName',
     'setNodeNameID',
     'setNodeSourcePatternIndex',
     'setNodeSourceQuality',
     'setNodeSourceType',
     'setNodeTankBulkReactionCoeff',
     'setNodeTankCanOverFlow',
     'setNodeTankData',
     'setNodeTankDiameter',
     'setNodeTankInitialLevel',
     'setNodeTankMaximumWaterLevel',
     'setNodeTankMinimumWaterLevel',
     'setNodeTankMinimumWaterVolume',
     'setNodeTankMixingFraction',
     'setNodeTankMixingModelType',
     'setNodeTypeJunction',
     'setNodeTypeReservoir',
     'setNodeTypeTank',
     'setNodesConnectingLinksID',
     'setOptionsAccuracyValue',
     'setOptionsCheckFrequency',
     'setOptionsDampLimit',
     'setOptionsDemandCharge',
     'setOptionsEmitterExponent',
     'setOptionsExtraTrials',
     'setOptionsFlowChange',
     'setOptionsGlobalEffic',
     'setOptionsGlobalPattern',
     'setOptionsGlobalPrice',
     'setOptionsHeadError',
     'setOptionsHeadLossFormula',
     'setOptionsLimitingConcentration',
     'setOptionsMaxTrials',
     'setOptionsMaximumCheck',
     'setOptionsPatternDemandMultiplier',
     'setOptionsPipeBulkReactionOrder',
     'setOptionsPipeWallReactionOrder',
     'setOptionsQualityTolerance',
     'setOptionsSpecificDiffusivity',
     'setOptionsSpecificGravity',
     'setOptionsSpecificViscosity',
     'setOptionsTankBulkReactionOrder',
     'setPattern',
     'setPatternComment',
     'setPatternMatrix',
     'setPatternNameID',
     'setPatternValue',
     'setQualityType',
     'setReport',
     'setReportFormatReset',
     'setReportStatus',
     'setRuleElseAction',
     'setRulePremise',
     'setRulePremiseObjectNameID',
     'setRulePremiseStatus',
     'setRulePremiseValue',
     'setRulePriority',
     'setRuleThenAction',
     'setRules',
     'setTimeHydraulicStep',
     'setTimePatternStart',
     'setTimePatternStep',
     'setTimeQualityStep',
     'setTimeReportingStart',
     'setTimeReportingStep',
     'setTimeRuleControlStep',
     'setTimeSimulationDuration',
     'setTimeStatisticsType',
     'setTitle',
     'solveCompleteHydraulics',
     'solveCompleteQuality',
     'splitPipe',
     'stepQualityAnalysisTimeLeft',
     'to_array',
     'to_mat',
     'units',
     'unload',
     'useHydraulicFile',
     'writeLineInReportFile',
     'writeReport']



.. code:: ipython2

    # Retrieve some examples for the function
    help(G.getNodeElevations)


.. parsed-literal::

    Help on method getNodeElevations in module epyt.epanet:
    
    getNodeElevations(*argv) method of epyt.epanet.epanet instance
        Retrieves the value of all node elevations.
        Example:
        
        >>> d.getNodeElevations()             # Retrieves the value of all node elevations
        >>> d.getNodeElevations(1)            # Retrieves the value of the first node elevation
        >>> d.getNodeElevations([4, 5, 6])    # Retrieves the value of the 5th to 7th node elevations
        
        See also setNodeElevations, getNodesInfo, getNodeNameID,
        getNodeType, getNodeEmitterCoeff, getNodeInitialQuality.
    
    

.. code:: ipython2

    # Retrieve Link diameters
    diameters = G.getLinkDiameter()
    print(diameters)


.. parsed-literal::

    [18. 14. 10. 10. 12.  6. 18. 10. 12.  8.  8.  6.  0.]
    

.. code:: ipython2

    # Retrieve Node elevations
    elevations = G.getNodeElevations()
    print(elevations)


.. parsed-literal::

    [710. 710. 700. 695. 700. 695. 690. 700. 710. 800. 850.]
    

.. code:: ipython2

    # Link diameter for links 2 & 10
    diameters = G.getLinkDiameter([2, 10])
    print(diameters)


.. parsed-literal::

    [14.  8.]
    

.. code:: ipython2

    # Update the link 10 diameter from 100 to 90
    G.setLinkDiameter(10, 90)
    # Retrieve the diameter of link 10
    n_diameter = G.getLinkDiameter(10)
    print(n_diameter)


.. parsed-literal::

    90.0
    

.. code:: ipython2

    # Solve hydraulics in library
    # H = G.getComputedHydraulicTimeSeries()
    # Solve quality dynamics in library
    # Q = G.getComputedQualityTimeSeries()
    # Solve all dynamics in library, create a binary file to store the computed values
    R = G.getComputedTimeSeries()

.. code:: ipython2

    # Plot link flows and quality
    hrs_time = R.Time / 3600
    link_indices = [1, 3, 5, 10]
    link_names = G.getLinkNameID(link_indices)
    G.plot_ts(X=hrs_time, Y=R.Flow[:, link_indices],
              title=f'Flow, Link IDs: {link_names}', figure_size=[4, 3], legend_location='best',
              xlabel='Time (hrs)', ylabel=f'Flow ({G.units.LinkFlowUnits})',
              marker=None, labels=link_names, save_fig=True, filename='figures/paper_flows')
    G.plot_ts(X=hrs_time, Y=R.LinkQuality[:, link_indices],
              title=f'Quality, Link IDs: {link_names}', legend_location='best',
              xlabel='Time (hrs)', ylabel=f'Quality', figure_size=[4, 3],
              marker=None, labels=link_names, save_fig=True, filename='figures/paper_link_quality')
    
    # Plot node pressures and quality
    node_indices = [2, 4, 6, 10]
    node_names = G.getNodeNameID(node_indices)
    G.plot_ts(X=hrs_time, Y=R.Pressure[:, node_indices], legend_location='best',
              title=f'Pressure, Node IDs: {node_names}', figure_size=[4, 3],
              xlabel='Time (hrs)', ylabel=f'Pressure ({G.units.NodePressureUnits})',
              marker=None, labels=node_names, save_fig=True, filename='figures/paper_pressures')
    
    G.plot_ts(X=hrs_time, Y=R.NodeQuality[:, node_indices],
              title=f'Quality, Node IDs: {node_names}', legend_location='best',
              xlabel='Time (hrs)', ylabel=f'Quality', figure_size=[4, 3],
              marker=None, labels=node_names, save_fig=True, filename='figures/paper_node_quality')
    



.. image:: joss_simple_example_files%5Cjoss_simple_example_9_0.png



.. image:: joss_simple_example_files%5Cjoss_simple_example_9_1.png



.. image:: joss_simple_example_files%5Cjoss_simple_example_9_2.png



.. image:: joss_simple_example_files%5Cjoss_simple_example_9_3.png

